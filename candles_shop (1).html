<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handmade Luxury Candles – Shop</title>
    <!--
        This single‑page store template is designed to help small makers sell
        handmade candles without needing a complicated e‑commerce platform.  It
        uses modern, responsive HTML/CSS and a little vanilla JavaScript to
        display a catalogue of products, allow visitors to add items to a cart
        and submit an order, and even lets the store owner add or remove
        products from the catalogue.  All data (the products list and cart
        contents) is stored in localStorage so it persists across page reloads.
    -->
    <style>
        :root {
            --primary-color: #3a2c2b;
            --accent-color: #e7b58a;
            --light-color: #fdfdfd;
            --dark-color: #1a1a1a;
            --border-radius: 8px;
        }
        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--light-color);
            color: var(--dark-color);
            line-height: 1.6;
        }
        header {
            background: var(--primary-color);
            color: var(--light-color);
            padding: 2rem 1rem;
            text-align: center;
        }
        header h1 {
            margin: 0;
            font-size: 2.5rem;
            letter-spacing: 2px;
        }
        header p {
            margin: 0.5rem 0 0;
            font-style: italic;
            font-size: 1.1rem;
        }
        main {
            padding: 2rem 1rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        /* Product grid */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }
        .product {
            background: var(--light-color);
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        .product img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        .product-content {
            padding: 1rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        .product h3 {
            margin: 0 0 0.5rem;
            font-size: 1.4rem;
            color: var(--primary-color);
        }
        .product .price {
            font-weight: bold;
            margin: 0.5rem 0;
            color: var(--accent-color);
        }
        .product ul {
            list-style: disc;
            padding-left: 1.2rem;
            margin: 0.5rem 0;
            flex-grow: 1;
        }
        .product ul li {
            margin: 0.25rem 0;
        }
        .product button {
            margin-top: auto;
            padding: 0.5rem 1rem;
            background: var(--accent-color);
            color: var(--dark-color);
            border: none;
            border-radius: var(--border-radius);
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.2s ease;
        }
        .product button:hover {
            background: #d9a471;
        }
        /* Cart section */
        #cart {
            margin-top: 3rem;
            border-top: 4px solid var(--primary-color);
            padding-top: 2rem;
        }
        #cart h2 {
            margin-top: 0;
        }
        .cart-items {
            list-style: none;
            padding: 0;
            margin: 0 0 1rem;
        }
        .cart-items li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #eee;
            padding: 0.5rem 0;
        }
        .cart-items li span {
            flex: 1;
        }
        .cart-items li button {
            background: transparent;
            border: none;
            color: #c0392b;
            font-size: 1.2rem;
            cursor: pointer;
        }
        .cart-summary {
            font-weight: bold;
            margin-bottom: 1rem;
        }
        /* Order form */
        #order-form {
            display: none; /* show when items are in cart */
            background: #f9f9f9;
            padding: 1rem;
            border-radius: var(--border-radius);
        }
        #order-form label {
            display: block;
            margin: 0.5rem 0 0.25rem;
        }
        #order-form input,
        #order-form textarea {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: var(--border-radius);
            font-size: 1rem;
        }
        #order-form button[type="submit"] {
            margin-top: 1rem;
            background: var(--primary-color);
            color: var(--light-color);
            padding: 0.6rem 1.2rem;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 1rem;
        }
        #order-form button[type="submit"]:hover {
            background: #533634;
        }
        /* Manage products section */
        #manage-products {
            margin-top: 3rem;
            border-top: 4px solid var(--primary-color);
            padding-top: 2rem;
        }
        #manage-products h2 {
            margin-top: 0;
        }
        #manage-products form {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        #manage-products form input,
        #manage-products form textarea {
            flex: 1 1 200px;
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: var(--border-radius);
        }
        #manage-products form button {
            background: var(--primary-color);
            color: var(--light-color);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
        }
        #manage-products table {
            width: 100%;
            border-collapse: collapse;
        }
        #manage-products th, #manage-products td {
            border: 1px solid #ddd;
            padding: 0.5rem;
            text-align: left;
        }
        #manage-products th {
            background: #f5f5f5;
        }
        #manage-products td button {
            background: #c0392b;
            color: var(--light-color);
            border: none;
            padding: 0.3rem 0.6rem;
            border-radius: var(--border-radius);
            cursor: pointer;
        }
        @media (prefers-color-scheme: dark) {
            body {
                background: var(--dark-color);
                color: var(--light-color);
            }
            header {
                background: var(--primary-color);
            }
            .product {
                border-color: #444;
                background: #272323;
            }
            .product button {
                color: var(--dark-color);
            }
            #order-form {
                background: #2c2c2c;
            }
            #manage-products th {
                background: #3a3a3a;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>LuxAura Candles</h1>
        <p>Elevate your ambience with handcrafted luxury candles</p>
    </header>
    <main>
        <!-- Product catalogue -->
        <section id="catalogue">
            <h2>Our Collection</h2>
            <p>Indulge in our small‑batch, hand‑poured candles. Each fragrance tells a story – from calming lavender fields to vibrant citrus groves.  Our soy wax and cotton wicks ensure a clean, long‑lasting burn.</p>
            <div class="product-grid" id="productGrid">
                <!-- Products will be injected here via JavaScript -->
            </div>
        </section>
        <!-- Shopping cart -->
        <section id="cart">
            <h2>Your Cart</h2>
            <ul class="cart-items" id="cartItems"></ul>
            <p class="cart-summary" id="cartSummary">Your cart is empty.</p>
            <!-- Order form appears only when items are in cart -->
            <form id="order-form">
                <h3>Checkout</h3>
                <label for="customerName">Full Name *</label>
                <input type="text" id="customerName" required>
                <label for="customerEmail">Email *</label>
                <input type="email" id="customerEmail" required>
                <label for="customerPhone">Phone</label>
                <input type="tel" id="customerPhone">
                <label for="customerAddress">Shipping Address *</label>
                <textarea id="customerAddress" rows="3" required></textarea>
                <label for="orderNotes">Order Notes</label>
                <textarea id="orderNotes" rows="3"></textarea>
                <button type="submit">Place Order</button>
            </form>
        </section>
        <!-- Manage products (owner only) -->
        <section id="manage-products">
            <h2>Manage Products</h2>
            <p>Use this form to add new candles to your catalogue or remove existing ones.  Changes are stored in your browser’s localStorage.</p>
            <form id="addProductForm">
                <input type="text" id="newName" placeholder="Name (e.g., Lavender Bliss)" required>
                <input type="text" id="newPrice" placeholder="Price (e.g., 29.99)" required>
                <input type="text" id="newImage" placeholder="Image URL (use your own product photo)" required>
                <textarea id="newDescription" placeholder="Description / bullet points (separate with semicolons)" required></textarea>
                <button type="submit">Add Product</button>
            </form>
            <table id="productTable">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Price</th>
                        <th>Description</th>
                        <th>Image</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Product rows inserted here -->
                </tbody>
            </table>
        </section>
    </main>
    <script>
        // Initial product data.  Each product includes an id, name, price,
        // description (array of bullet points) and an image URL.  If
        // localStorage already has a products array, it will override these.
        const defaultProducts = [
            {
                id: 1,
                name: "Lavender Bliss",
                price: 29.99,
                description: [
                    "Soothing lavender fragrance with hints of chamomile",
                    "Hand‑poured soy wax for a clean burn",
                    "Cotton wick – lead and zinc free",
                    "Burn time: ~45 hours"
                ],
                image: "https://via.placeholder.com/400x300?text=Lavender+Bliss"
            },
            {
                id: 2,
                name: "Citrus Sunrise",
                price: 27.50,
                description: [
                    "Bright notes of orange blossom and bergamot",
                    "Made with essential oils and natural soy",
                    "Recyclable glass vessel",
                    "Burn time: ~40 hours"
                ],
                image: "https://via.placeholder.com/400x300?text=Citrus+Sunrise"
            },
            {
                id: 3,
                name: "Woodland Retreat",
                price: 34.00,
                description: [
                    "Earthy cedarwood, pine and a touch of sandalwood",
                    "Infused with phthalate‑free fragrance oils",
                    "Reusable jar with wooden lid",
                    "Burn time: ~50 hours"
                ],
                image: "https://via.placeholder.com/400x300?text=Woodland+Retreat"
            }
        ];

        // Retrieve products from localStorage or fall back to default
        function getProducts() {
            const stored = localStorage.getItem('luxProducts');
            return stored ? JSON.parse(stored) : defaultProducts;
        }
        function saveProducts(products) {
            localStorage.setItem('luxProducts', JSON.stringify(products));
        }
        // Render the product cards in the catalogue section
        function renderProducts() {
            const products = getProducts();
            const grid = document.getElementById('productGrid');
            grid.innerHTML = '';
            products.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product';
                card.innerHTML = `
                    <img src="${product.image}" alt="${product.name}">
                    <div class="product-content">
                        <h3>${product.name}</h3>
                        <span class="price">$${product.price.toFixed(2)}</span>
                        <ul>
                            ${product.description.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                        <button data-id="${product.id}">Add to Cart</button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }
        // Shopping cart handling
        let cart = [];
        function addToCart(productId) {
            const products = getProducts();
            const product = products.find(p => p.id === productId);
            if (!product) return;
            // Check if product already in cart
            const existing = cart.find(item => item.id === productId);
            if (existing) {
                existing.quantity += 1;
            } else {
                cart.push({ id: product.id, name: product.name, price: product.price, quantity: 1 });
            }
            renderCart();
        }
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            renderCart();
        }
        function renderCart() {
            const list = document.getElementById('cartItems');
            list.innerHTML = '';
            let total = 0;
            cart.forEach(item => {
                total += item.price * item.quantity;
                const li = document.createElement('li');
                li.innerHTML = `
                    <span>${item.name} × ${item.quantity}</span>
                    <span>$${(item.price * item.quantity).toFixed(2)}</span>
                    <button data-id="${item.id}">✕</button>
                `;
                list.appendChild(li);
            });
            const summary = document.getElementById('cartSummary');
            if (cart.length === 0) {
                summary.textContent = 'Your cart is empty.';
                document.getElementById('order-form').style.display = 'none';
            } else {
                summary.textContent = `Subtotal: $${total.toFixed(2)}`;
                document.getElementById('order-form').style.display = 'block';
            }
        }
        // Handle product add button clicks
        document.addEventListener('click', e => {
            if (e.target.matches('.product button')) {
                const id = parseInt(e.target.getAttribute('data-id'));
                addToCart(id);
            }
            if (e.target.matches('.cart-items button')) {
                const id = parseInt(e.target.getAttribute('data-id'));
                removeFromCart(id);
            }
        });
        // Order form submission
        document.getElementById('order-form').addEventListener('submit', e => {
            e.preventDefault();
            // Collect order details
            const orderDetails = {
                name: document.getElementById('customerName').value,
                email: document.getElementById('customerEmail').value,
                phone: document.getElementById('customerPhone').value,
                address: document.getElementById('customerAddress').value,
                notes: document.getElementById('orderNotes').value,
                items: cart
            };
            // For demonstration: show order confirmation
            alert('Thank you for your order, ' + orderDetails.name + '!\n\nWe have received your purchase of ' + cart.length + ' item(s). You will receive a confirmation email shortly.');
            // Clear cart
            cart = [];
            renderCart();
            e.target.reset();
        });
        // Manage products: handle add new product
        document.getElementById('addProductForm').addEventListener('submit', e => {
            e.preventDefault();
            const products = getProducts();
            const newId = products.length ? Math.max(...products.map(p => p.id)) + 1 : 1;
            const name = document.getElementById('newName').value.trim();
            const price = parseFloat(document.getElementById('newPrice').value);
            const image = document.getElementById('newImage').value.trim();
            const descInput = document.getElementById('newDescription').value.trim();
            const description = descInput.split(';').map(s => s.trim()).filter(Boolean);
            products.push({ id: newId, name, price, image, description });
            saveProducts(products);
            renderProducts();
            renderProductTable();
            e.target.reset();
        });
        // Render table for manage products
        function renderProductTable() {
            const products = getProducts();
            const tbody = document.querySelector('#productTable tbody');
            tbody.innerHTML = '';
            products.forEach(product => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${product.name}</td>
                    <td>$${product.price.toFixed(2)}</td>
                    <td><ul>${product.description.map(item => `<li>${item}</li>`).join('')}</ul></td>
                    <td><img src="${product.image}" alt="${product.name}" style="width:80px;height:60px;object-fit:cover;"></td>
                    <td><button data-id="${product.id}">Remove</button></td>
                `;
                tbody.appendChild(tr);
            });
        }
        // Handle remove product from table
        document.getElementById('productTable').addEventListener('click', e => {
            if (e.target.tagName === 'BUTTON') {
                const id = parseInt(e.target.getAttribute('data-id'));
                let products = getProducts();
                products = products.filter(p => p.id !== id);
                saveProducts(products);
                renderProducts();
                renderProductTable();
            }
        });
        // Initialize
        renderProducts();
        renderProductTable();
        renderCart();
    </script>
</body>
</html>